import{d as w,u as f,r as k,c as o,o as B,a as g,b as s,w as u,v as l,e as t,t as i,n as b,f as x,g as m,I as C,h as y,i as A,j as _,F as E,k as S,l as F,m as v,p as D}from"./index.01d6d368.js";const U=s("p",{class:"text-center font-sans text-2xl font-bold"},"\u8A3B\u518A",-1),N=["onKeyup"],V={class:"text-alert"},I={class:"text-alert"},P={class:"text-alert"},z=["disabled"],K=D("\u767B\u5165"),j=w({setup(L){const p=S(),d=f(),e=k({isSending:!1,name:"",email:"",password:"",checkName:o(()=>{if(e.name==="")return;if(e.name.indexOf(" ")>-1)return"\u66B1\u7A31\u4E0D\u53EF\u5305\u542B\u7A7A\u767D\u5B57\u5143";const a=e.name.length;if(a<2||a>10)return"\u66B1\u7A31\u9700\u8F38\u5165 2~10 \u500B\u5B57\u5143"}),checkEmail:o(()=>{if(e.email!==""&&!e.email.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/))return"\u4FE1\u7BB1\u683C\u5F0F\u4E0D\u6B63\u78BA"}),checkPassword:o(()=>{if(e.password!==""){if(e.password.indexOf(" ")>-1)return"\u5BC6\u78BC\u4E0D\u53EF\u5305\u542B\u7A7A\u767D\u5B57\u5143";if(e.password.length<8||e.password.length>20)return"\u5BC6\u78BC\u9700\u8F38\u5165 8~20 \u500B\u5B57\u5143"}}),checkContent:o(()=>!!(e.name&&e.email&&e.password&&!e.checkName&&!e.checkEmail&&!e.checkPassword)),reset(){this.isSending=!1,this.name="",this.email="",this.password=""}}),c=()=>{!e.checkContent||(e.isSending=!0,F.signUp({name:e.name.trim(),email:e.email.toLowerCase(),password:e.password.trim()}).then(a=>{localStorage.setItem("metaWall",a.headers.authorization),d.name=a.data.data.name,d.gender=a.data.data.gender,e.reset(),window.alert("\u8A3B\u518A\u6210\u529F"),p.push({name:"home"})}).catch(a=>{e.reset(),window.alert(a.response.data.message)}))};return(a,n)=>{const h=v("Router-link");return B(),g(E,null,[U,s("div",{class:"grid px-9 pt-9 font-azeret",onKeyup:A(_(c,["stop"]),["enter"])},[u(s("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>t(e).name=r),class:"custom-border focus:border-primary dark:text-black",type:"text",placeholder:"\u66B1\u7A31"},null,512),[[l,t(e).name]]),s("span",V,i(t(e).checkName),1),u(s("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>t(e).email=r),class:"custom-border mt-4 focus:border-primary dark:text-black",type:"email",placeholder:"Email",onInput:n[2]||(n[2]=r=>t(e).email=t(e).email.toLowerCase())},null,544),[[l,t(e).email]]),s("span",I,i(t(e).checkEmail),1),u(s("input",{"onUpdate:modelValue":n[3]||(n[3]=r=>t(e).password=r),class:"custom-border mt-4 focus:border-primary dark:text-black",type:"password",placeholder:"Password"},null,512),[[l,t(e).password]]),s("span",P,i(t(e).checkPassword),1),s("button",{type:"button",class:b([{"primary-color border-black":t(e).checkContent,"cursor-not-allowed border-gray-500 bg-gray-400 text-white":!t(e).checkContent,"cursor-wait":t(e).isSending},"custom-border mt-8 flex items-center justify-center rounded-lg py-3 shadow-sm shadow-black"]),disabled:!t(e).checkContent||t(e).isSending,onClick:c},[s("span",null,i(t(e).isSending?"\u8A3B\u518A\u4E2D...":"\u8A3B\u518A"),1),u(m(C,{class:"ml-1 animate-spin"},null,512),[[x,t(e).isSending]])],10,z),m(h,{to:"/",class:"mx-auto mt-2 inline-block p-1"},{default:y(()=>[K]),_:1})],40,N)],64)}}});export{j as default};
