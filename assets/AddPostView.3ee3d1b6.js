import{z as _export_sfc,o as openBlock,a as createElementBlock,A as renderSlot,b as createBaseVNode,d as defineComponent,B as useLightBoxStore,r as reactive,c as computed,q as ref,g as createVNode,S as SwiperImgs,w as withDirectives,v as vModelText,e as unref,n as normalizeClass,f as vShow,F as Fragment,s as renderList,t as toDisplayString,I as IconLoad,C as apiPost,j as withModifiers,h as withCtx}from"./index.06625474.js";import{T as TitleCard}from"./TitleCard.4c3584ce.js";const _sfc_main$1={},_hoisted_1$1={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},_hoisted_2$1=createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1);function _sfc_render(r,i){return openBlock(),createElementBlock("svg",_hoisted_1$1,[renderSlot(r.$slots,"default"),_hoisted_2$1])}var IconTrash=_export_sfc(_sfc_main$1,[["render",_sfc_render]]);function _mergeNamespaces(r,i){return i.forEach(function(c){Object.keys(c).forEach(function(t){if(t!=="default"&&!(t in r)){var e=Object.getOwnPropertyDescriptor(c,t);Object.defineProperty(r,t,e.get?e:{enumerable:!0,get:function(){return c[t]}})}})}),Object.freeze(r)}function ownKeys(r,i){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);i&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),c.push.apply(c,t)}return c}function _objectSpread2(r){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(c),!0).forEach(function(t){_defineProperty(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):ownKeys(Object(c)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(c,t))})}return r}function _defineProperty(r,i,c){return i in r?Object.defineProperty(r,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[i]=c,r}function _slicedToArray(r,i){return _arrayWithHoles(r)||_iterableToArrayLimit(r,i)||_unsupportedIterableToArray(r,i)||_nonIterableRest()}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _iterableToArrayLimit(r,i){var c=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(c!=null){var t,e,n=[],s=!0,a=!1;try{for(c=c.call(r);!(s=(t=c.next()).done)&&(n.push(t.value),!i||n.length!==i);s=!0);}catch(l){a=!0,e=l}finally{try{s||c.return==null||c.return()}finally{if(a)throw e}}return n}}function _unsupportedIterableToArray(r,i){if(r){if(typeof r=="string")return _arrayLikeToArray(r,i);var c=Object.prototype.toString.call(r).slice(8,-1);return c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set"?Array.from(r):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(r,i):void 0}}function _arrayLikeToArray(r,i){(i==null||i>r.length)&&(i=r.length);for(var c=0,t=new Array(i);c<i;c++)t[c]=r[c];return t}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function createCommonjsModule(r){var i={exports:{}};return r(i,i.exports),i.exports}var UZIP_1=createCommonjsModule(function(r){var i,c,t={};r.exports=t,t.parse=function(e,n){for(var s=t.bin.readUshort,a=t.bin.readUint,l=0,f={},g=new Uint8Array(e),h=g.length-4;a(g,h)!=101010256;)h--;l=h,l+=4;var d=s(g,l+=4);s(g,l+=2);var u=a(g,l+=2),m=a(g,l+=4);l+=4,l=m;for(var U=0;U<d;U++){a(g,l),l+=4,l+=4,l+=4,a(g,l+=4),u=a(g,l+=4);var p=a(g,l+=4),y=s(g,l+=4),F=s(g,l+2),w=s(g,l+4);l+=6;var C=a(g,l+=8);l+=4,l+=y+F+w,t._readLocal(g,C,f,u,p,n)}return f},t._readLocal=function(e,n,s,a,l,f){var g=t.bin.readUshort,h=t.bin.readUint;h(e,n),g(e,n+=4),g(e,n+=2);var d=g(e,n+=2);h(e,n+=2),h(e,n+=4),n+=4;var u=g(e,n+=8),m=g(e,n+=2);n+=2;var U=t.bin.readUTF8(e,n,u);if(n+=u,n+=m,f)s[U]={size:l,csize:a};else{var p=new Uint8Array(e.buffer,n);if(d==0)s[U]=new Uint8Array(p.buffer.slice(n,n+a));else{if(d!=8)throw"unknown compression method: "+d;var y=new Uint8Array(l);t.inflateRaw(p,y),s[U]=y}}},t.inflateRaw=function(e,n){return t.F.inflate(e,n)},t.inflate=function(e,n){return e[0],e[1],t.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),n)},t.deflate=function(e,n){n==null&&(n={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[s]=120,a[s+1]=156,s+=2,s=t.F.deflateRaw(e,a,s,n.level);var l=t.adler(e,0,e.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},t.deflateRaw=function(e,n){n==null&&(n={level:6});var s=new Uint8Array(50+Math.floor(1.1*e.length)),a=t.F.deflateRaw(e,s,a,n.level);return new Uint8Array(s.buffer,0,a)},t.encode=function(e,n){n==null&&(n=!1);var s=0,a=t.bin.writeUint,l=t.bin.writeUshort,f={};for(var g in e){var h=!t._noNeed(g)&&!n,d=e[g],u=t.crc.crc(d,0,d.length);f[g]={cpr:h,usize:d.length,crc:u,file:h?t.deflateRaw(d):d}}for(var g in f)s+=f[g].file.length+30+46+2*t.bin.sizeUTF8(g);s+=22;var m=new Uint8Array(s),U=0,p=[];for(var g in f){var y=f[g];p.push(U),U=t._writeHeader(m,U,g,y,0)}var F=0,w=U;for(var g in f)y=f[g],p.push(U),U=t._writeHeader(m,U,g,y,1,p[F++]);var C=U-w;return a(m,U,101010256),U+=4,l(m,U+=4,F),l(m,U+=2,F),a(m,U+=2,C),a(m,U+=4,w),U+=4,U+=2,m.buffer},t._noNeed=function(e){var n=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!=-1},t._writeHeader=function(e,n,s,a,l,f){var g=t.bin.writeUint,h=t.bin.writeUshort,d=a.file;return g(e,n,l==0?67324752:33639248),n+=4,l==1&&(n+=2),h(e,n,20),h(e,n+=2,0),h(e,n+=2,a.cpr?8:0),g(e,n+=2,0),g(e,n+=4,a.crc),g(e,n+=4,d.length),g(e,n+=4,a.usize),h(e,n+=4,t.bin.sizeUTF8(s)),h(e,n+=2,0),n+=2,l==1&&(n+=2,n+=2,g(e,n+=6,f),n+=4),n+=t.bin.writeUTF8(e,n,s),l==0&&(e.set(d,n),n+=d.length),n},t.crc={table:function(){for(var e=new Uint32Array(256),n=0;n<256;n++){for(var s=n,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;e[n]=s}return e}(),update:function(e,n,s,a){for(var l=0;l<a;l++)e=t.crc.table[255&(e^n[s+l])]^e>>>8;return e},crc:function(e,n,s){return 4294967295^t.crc.update(4294967295,e,n,s)}},t.adler=function(e,n,s){for(var a=1,l=0,f=n,g=n+s;f<g;){for(var h=Math.min(f+5552,g);f<h;)l+=a+=e[f++];a%=65521,l%=65521}return l<<16|a},t.bin={readUshort:function(e,n){return e[n]|e[n+1]<<8},writeUshort:function(e,n,s){e[n]=255&s,e[n+1]=s>>8&255},readUint:function(e,n){return 16777216*e[n+3]+(e[n+2]<<16|e[n+1]<<8|e[n])},writeUint:function(e,n,s){e[n]=255&s,e[n+1]=s>>8&255,e[n+2]=s>>16&255,e[n+3]=s>>24&255},readASCII:function(e,n,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(e[n+l]);return a},writeASCII:function(e,n,s){for(var a=0;a<s.length;a++)e[n+a]=s.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,n,s){for(var a,l="",f=0;f<s;f++)l+="%"+t.bin.pad(e[n+f].toString(16));try{a=decodeURIComponent(l)}catch{return t.bin.readASCII(e,n,s)}return a},writeUTF8:function(e,n,s){for(var a=s.length,l=0,f=0;f<a;f++){var g=s.charCodeAt(f);if((4294967168&g)==0)e[n+l]=g,l++;else if((4294965248&g)==0)e[n+l]=192|g>>6,e[n+l+1]=128|g>>0&63,l+=2;else if((4294901760&g)==0)e[n+l]=224|g>>12,e[n+l+1]=128|g>>6&63,e[n+l+2]=128|g>>0&63,l+=3;else{if((4292870144&g)!=0)throw"e";e[n+l]=240|g>>18,e[n+l+1]=128|g>>12&63,e[n+l+2]=128|g>>6&63,e[n+l+3]=128|g>>0&63,l+=4}}return l},sizeUTF8:function(e){for(var n=e.length,s=0,a=0;a<n;a++){var l=e.charCodeAt(a);if((4294967168&l)==0)s++;else if((4294965248&l)==0)s+=2;else if((4294901760&l)==0)s+=3;else{if((4292870144&l)!=0)throw"e";s+=4}}return s}},t.F={},t.F.deflateRaw=function(e,n,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],f=t.F.U,g=t.F._goodIndex;t.F._hash;var h=t.F._putsE,d=0,u=s<<3,m=0,U=e.length;if(a==0){for(;d<U;)h(n,u,d+(E=Math.min(65535,U-d))==U?1:0),u=t.F._copyExact(e,d,E,n,u+8),d+=E;return u>>>3}var p=f.lits,y=f.strt,F=f.prev,w=0,C=0,b=0,v=0,_=0,A=0;for(U>2&&(y[A=t.F._hash(e,0)]=0),d=0;d<U;d++){if(_=A,d+1<U-2){A=t.F._hash(e,d+1);var I=d+1&32767;F[I]=y[A],y[A]=I}if(m<=d){(w>14e3||C>26697)&&U-d>100&&(m<d&&(p[w]=d-m,w+=2,m=d),u=t.F._writeBlock(d==U-1||m==U?1:0,p,w,v,e,b,d-b,n,u),w=C=v=0,b=d);var P=0;d<U-2&&(P=t.F._bestMatch(e,d,F,_,Math.min(l[2],U-d),l[3]));var E=P>>>16,B=65535&P;if(P!=0){B=65535&P;var M=g(E=P>>>16,f.of0);f.lhst[257+M]++;var R=g(B,f.df0);f.dhst[R]++,v+=f.exb[M]+f.dxb[R],p[w]=E<<23|d-m,p[w+1]=B<<16|M<<8|R,w+=2,m=d+E}else f.lhst[e[d]]++;C++}}for(b==d&&e.length!=0||(m<d&&(p[w]=d-m,w+=2,m=d),u=t.F._writeBlock(1,p,w,v,e,b,d-b,n,u),w=0,C=0,w=C=v=0,b=d);(7&u)!=0;)u++;return u>>>3},t.F._bestMatch=function(e,n,s,a,l,f){var g=32767&n,h=s[g],d=g-h+32768&32767;if(h==g||a!=t.F._hash(e,n-d))return 0;for(var u=0,m=0,U=Math.min(32767,n);d<=U&&--f!=0&&h!=g;){if(u==0||e[n+u]==e[n+u-d]){var p=t.F._howLong(e,n,d);if(p>u){if(m=d,(u=p)>=l)break;d+2<p&&(p=d+2);for(var y=0,F=0;F<p-2;F++){var w=n-d+F+32768&32767,C=w-s[w]+32768&32767;C>y&&(y=C,h=w)}}}d+=(g=h)-(h=s[g])+32768&32767}return u<<16|m},t.F._howLong=function(e,n,s){if(e[n]!=e[n-s]||e[n+1]!=e[n+1-s]||e[n+2]!=e[n+2-s])return 0;var a=n,l=Math.min(e.length,n+258);for(n+=3;n<l&&e[n]==e[n-s];)n++;return n-a},t.F._hash=function(e,n){return(e[n]<<8|e[n+1])+(e[n+2]<<4)&65535},t.saved=0,t.F._writeBlock=function(e,n,s,a,l,f,g,h,d){var u,m,U,p,y,F,w,C,b,v=t.F.U,_=t.F._putsF,A=t.F._putsE;v.lhst[256]++,m=(u=t.F.getTrees())[0],U=u[1],p=u[2],y=u[3],F=u[4],w=u[5],C=u[6],b=u[7];var I=32+((d+3&7)==0?0:8-(d+3&7))+(g<<3),P=a+t.F.contSize(v.fltree,v.lhst)+t.F.contSize(v.fdtree,v.dhst),E=a+t.F.contSize(v.ltree,v.lhst)+t.F.contSize(v.dtree,v.dhst);E+=14+3*w+t.F.contSize(v.itree,v.ihst)+(2*v.ihst[16]+3*v.ihst[17]+7*v.ihst[18]);for(var B=0;B<286;B++)v.lhst[B]=0;for(B=0;B<30;B++)v.dhst[B]=0;for(B=0;B<19;B++)v.ihst[B]=0;var M=I<P&&I<E?0:P<E?1:2;if(_(h,d,e),_(h,d+1,M),d+=3,M==0){for(;(7&d)!=0;)d++;d=t.F._copyExact(l,f,g,h,d)}else{var R,x;if(M==1&&(R=v.fltree,x=v.fdtree),M==2){t.F.makeCodes(v.ltree,m),t.F.revCodes(v.ltree,m),t.F.makeCodes(v.dtree,U),t.F.revCodes(v.dtree,U),t.F.makeCodes(v.itree,p),t.F.revCodes(v.itree,p),R=v.ltree,x=v.dtree,A(h,d,y-257),A(h,d+=5,F-1),A(h,d+=5,w-4),d+=4;for(var G=0;G<w;G++)A(h,d+3*G,v.itree[1+(v.ordr[G]<<1)]);d+=3*w,d=t.F._codeTiny(C,v.itree,h,d),d=t.F._codeTiny(b,v.itree,h,d)}for(var O=f,S=0;S<s;S+=2){for(var Z=n[S],k=Z>>>23,D=O+(8388607&Z);O<D;)d=t.F._writeLit(l[O++],R,h,d);if(k!=0){var z=n[S+1],V=z>>16,L=z>>8&255,j=255&z;A(h,d=t.F._writeLit(257+L,R,h,d),k-v.of0[L]),d+=v.exb[L],_(h,d=t.F._writeLit(j,x,h,d),V-v.df0[j]),d+=v.dxb[j],O+=k}}d=t.F._writeLit(256,R,h,d)}return d},t.F._copyExact=function(e,n,s,a,l){var f=l>>>3;return a[f]=s,a[f+1]=s>>>8,a[f+2]=255-a[f],a[f+3]=255-a[f+1],f+=4,a.set(new Uint8Array(e.buffer,n,s),f),l+(s+4<<3)},t.F.getTrees=function(){for(var e=t.F.U,n=t.F._hufTree(e.lhst,e.ltree,15),s=t.F._hufTree(e.dhst,e.dtree,15),a=[],l=t.F._lenCodes(e.ltree,a),f=[],g=t.F._lenCodes(e.dtree,f),h=0;h<a.length;h+=2)e.ihst[a[h]]++;for(h=0;h<f.length;h+=2)e.ihst[f[h]]++;for(var d=t.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[n,s,d,l,g,u,a,f]},t.F.getSecond=function(e){for(var n=[],s=0;s<e.length;s+=2)n.push(e[s+1]);return n},t.F.nonZero=function(e){for(var n="",s=0;s<e.length;s+=2)e[s+1]!=0&&(n+=(s>>1)+",");return n},t.F.contSize=function(e,n){for(var s=0,a=0;a<n.length;a++)s+=n[a]*e[1+(a<<1)];return s},t.F._codeTiny=function(e,n,s,a){for(var l=0;l<e.length;l+=2){var f=e[l],g=e[l+1];a=t.F._writeLit(f,n,s,a);var h=f==16?2:f==17?3:7;f>15&&(t.F._putsE(s,a,g,h),a+=h)}return a},t.F._lenCodes=function(e,n){for(var s=e.length;s!=2&&e[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=e[a+1],f=a+3<s?e[a+3]:-1,g=a+5<s?e[a+5]:-1,h=a==0?-1:e[a-1];if(l==0&&f==l&&g==l){for(var d=a+5;d+2<s&&e[d+2]==l;)d+=2;(u=Math.min(d+1-a>>>1,138))<11?n.push(17,u-3):n.push(18,u-11),a+=2*u-2}else if(l==h&&f==l&&g==l){for(d=a+5;d+2<s&&e[d+2]==l;)d+=2;var u=Math.min(d+1-a>>>1,6);n.push(16,u-3),a+=2*u-2}else n.push(l,0)}return s>>>1},t.F._hufTree=function(e,n,s){var a=[],l=e.length,f=n.length,g=0;for(g=0;g<f;g+=2)n[g]=0,n[g+1]=0;for(g=0;g<l;g++)e[g]!=0&&a.push({lit:g,f:e[g]});var h=a.length,d=a.slice(0);if(h==0)return 0;if(h==1){var u=a[0].lit;return d=u==0?1:0,n[1+(u<<1)]=1,n[1+(d<<1)]=1,1}a.sort(function(C,b){return C.f-b.f});var m=a[0],U=a[1],p=0,y=1,F=2;for(a[0]={lit:-1,f:m.f+U.f,l:m,r:U,d:0};y!=h-1;)m=p!=y&&(F==h||a[p].f<a[F].f)?a[p++]:a[F++],U=p!=y&&(F==h||a[p].f<a[F].f)?a[p++]:a[F++],a[y++]={lit:-1,f:m.f+U.f,l:m,r:U};var w=t.F.setDepth(a[y-1],0);for(w>s&&(t.F.restrictDepth(d,s,w),w=s),g=0;g<h;g++)n[1+(d[g].lit<<1)]=d[g].d;return w},t.F.setDepth=function(e,n){return e.lit!=-1?(e.d=n,n):Math.max(t.F.setDepth(e.l,n+1),t.F.setDepth(e.r,n+1))},t.F.restrictDepth=function(e,n,s){var a=0,l=1<<s-n,f=0;for(e.sort(function(h,d){return d.d==h.d?h.f-d.f:d.d-h.d}),a=0;a<e.length&&e[a].d>n;a++){var g=e[a].d;e[a].d=n,f+=l-(1<<s-g)}for(f>>>=s-n;f>0;)(g=e[a].d)<n?(e[a].d++,f-=1<<n-g-1):a++;for(;a>=0;a--)e[a].d==n&&f<0&&(e[a].d--,f++);f!=0&&console.log("debt left")},t.F._goodIndex=function(e,n){var s=0;return n[16|s]<=e&&(s|=16),n[8|s]<=e&&(s|=8),n[4|s]<=e&&(s|=4),n[2|s]<=e&&(s|=2),n[1|s]<=e&&(s|=1),s},t.F._writeLit=function(e,n,s,a){return t.F._putsF(s,a,n[e<<1]),a+n[1+(e<<1)]},t.F.inflate=function(e,n){var s=Uint8Array;if(e[0]==3&&e[1]==0)return n||new s(0);var a=t.F,l=a._bitsF,f=a._bitsE,g=a._decodeTiny,h=a.makeCodes,d=a.codes2map,u=a._get17,m=a.U,U=n==null;U&&(n=new s(e.length>>>2<<3));for(var p,y,F=0,w=0,C=0,b=0,v=0,_=0,A=0,I=0,P=0;F==0;)if(F=l(e,P,1),w=l(e,P+1,2),P+=3,w!=0){if(U&&(n=t.F._check(n,I+(1<<17))),w==1&&(p=m.flmap,y=m.fdmap,_=511,A=31),w==2){C=f(e,P,5)+257,b=f(e,P+5,5)+1,v=f(e,P+10,4)+4,P+=14;for(var E=0;E<38;E+=2)m.itree[E]=0,m.itree[E+1]=0;var B=1;for(E=0;E<v;E++){var M=f(e,P+3*E,3);m.itree[1+(m.ordr[E]<<1)]=M,M>B&&(B=M)}P+=3*v,h(m.itree,B),d(m.itree,B,m.imap),p=m.lmap,y=m.dmap,P=g(m.imap,(1<<B)-1,C+b,e,P,m.ttree);var R=a._copyOut(m.ttree,0,C,m.ltree);_=(1<<R)-1;var x=a._copyOut(m.ttree,C,b,m.dtree);A=(1<<x)-1,h(m.ltree,R),d(m.ltree,R,p),h(m.dtree,x),d(m.dtree,x,y)}for(;;){var G=p[u(e,P)&_];P+=15&G;var O=G>>>4;if(O>>>8==0)n[I++]=O;else{if(O==256)break;var S=I+O-254;if(O>264){var Z=m.ldef[O-257];S=I+(Z>>>3)+f(e,P,7&Z),P+=7&Z}var k=y[u(e,P)&A];P+=15&k;var D=k>>>4,z=m.ddef[D],V=(z>>>4)+l(e,P,15&z);for(P+=15&z,U&&(n=t.F._check(n,I+(1<<17)));I<S;)n[I]=n[I++-V],n[I]=n[I++-V],n[I]=n[I++-V],n[I]=n[I++-V];I=S}}}else{(7&P)!=0&&(P+=8-(7&P));var L=4+(P>>>3),j=e[L-4]|e[L-3]<<8;U&&(n=t.F._check(n,I+j)),n.set(new s(e.buffer,e.byteOffset+L,j),I),P=L+j<<3,I+=j}return n.length==I?n:n.slice(0,I)},t.F._check=function(e,n){var s=e.length;if(n<=s)return e;var a=new Uint8Array(Math.max(s<<1,n));return a.set(e,0),a},t.F._decodeTiny=function(e,n,s,a,l,f){for(var g=t.F._bitsE,h=t.F._get17,d=0;d<s;){var u=e[h(a,l)&n];l+=15&u;var m=u>>>4;if(m<=15)f[d]=m,d++;else{var U=0,p=0;m==16?(p=3+g(a,l,2),l+=2,U=f[d-1]):m==17?(p=3+g(a,l,3),l+=3):m==18&&(p=11+g(a,l,7),l+=7);for(var y=d+p;d<y;)f[d]=U,d++}}return l},t.F._copyOut=function(e,n,s,a){for(var l=0,f=0,g=a.length>>>1;f<s;){var h=e[f+n];a[f<<1]=0,a[1+(f<<1)]=h,h>l&&(l=h),f++}for(;f<g;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return l},t.F.makeCodes=function(e,n){for(var s,a,l,f,g=t.F.U,h=e.length,d=g.bl_count,u=0;u<=n;u++)d[u]=0;for(u=1;u<h;u+=2)d[e[u]]++;var m=g.next_code;for(s=0,d[0]=0,a=1;a<=n;a++)s=s+d[a-1]<<1,m[a]=s;for(l=0;l<h;l+=2)(f=e[l+1])!=0&&(e[l]=m[f],m[f]++)},t.F.codes2map=function(e,n,s){for(var a=e.length,l=t.F.U.rev15,f=0;f<a;f+=2)if(e[f+1]!=0)for(var g=f>>1,h=e[f+1],d=g<<4|h,u=n-h,m=e[f]<<u,U=m+(1<<u);m!=U;)s[l[m]>>>15-n]=d,m++},t.F.revCodes=function(e,n){for(var s=t.F.U.rev15,a=15-n,l=0;l<e.length;l+=2){var f=e[l]<<n-e[l+1];e[l]=s[f]>>>a}},t.F._putsE=function(e,n,s){s<<=7&n;var a=n>>>3;e[a]|=s,e[a+1]|=s>>>8},t.F._putsF=function(e,n,s){s<<=7&n;var a=n>>>3;e[a]|=s,e[a+1]|=s>>>8,e[a+2]|=s>>>16},t.F._bitsE=function(e,n,s){return(e[n>>>3]|e[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},t.F._bitsF=function(e,n,s){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},t.F._get17=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)},t.F._get25=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16|e[3+(n>>>3)]<<24)>>>(7&n)},t.F.U=(i=Uint16Array,c=Uint32Array,{next_code:new i(16),bl_count:new i(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new i(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new c(32),flmap:new i(512),fltree:[],fdmap:new i(32),fdtree:[],lmap:new i(32768),ltree:[],ttree:[],dmap:new i(32768),dtree:[],imap:new i(512),itree:[],rev15:new i(32768),lhst:new c(286),dhst:new c(30),ihst:new c(19),lits:new c(15e3),strt:new i(65536),prev:new i(32768)}),function(){for(var e=t.F.U,n=0;n<32768;n++){var s=n;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,e.rev15[n]=(s>>>16|s<<16)>>>17}function a(l,f,g){for(;f--!=0;)l.push(0,g)}for(n=0;n<32;n++)e.ldef[n]=e.of0[n]<<3|e.exb[n],e.ddef[n]=e.df0[n]<<4|e.dxb[n];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),t.F.makeCodes(e.fltree,9),t.F.codes2map(e.fltree,9,e.flmap),t.F.revCodes(e.fltree,9),a(e.fdtree,32,5),t.F.makeCodes(e.fdtree,5),t.F.codes2map(e.fdtree,5,e.fdmap),t.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(r){var i=r.width,c=r.height;if(r.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(r.data,i,c,r).buffer];var t=[];r.frames[0].data==null&&(r.frames[0].data=r.data);for(var e=i*c*4,n=new Uint8Array(e),s=new Uint8Array(e),a=new Uint8Array(e),l=0;l<r.frames.length;l++){var f=r.frames[l],g=f.rect.x,h=f.rect.y,d=f.rect.width,u=f.rect.height,m=UPNG.toRGBA8.decodeImage(f.data,d,u,r);if(l!=0)for(var U=0;U<e;U++)a[U]=n[U];if(f.blend==0?UPNG._copyTile(m,d,u,n,i,c,g,h,0):f.blend==1&&UPNG._copyTile(m,d,u,n,i,c,g,h,1),t.push(n.buffer.slice(0)),f.dispose!=0){if(f.dispose==1)UPNG._copyTile(s,d,u,n,i,c,g,h,0);else if(f.dispose==2)for(U=0;U<e;U++)n[U]=a[U]}}return t},UPNG.toRGBA8.decodeImage=function(r,i,c,t){var e=i*c,n=UPNG.decode._getBPP(t),s=Math.ceil(i*n/8),a=new Uint8Array(4*e),l=new Uint32Array(a.buffer),f=t.ctype,g=t.depth,h=UPNG._bin.readUshort;if(f==6){var d=e<<2;if(g==8)for(var u=0;u<d;u+=4)a[u]=r[u],a[u+1]=r[u+1],a[u+2]=r[u+2],a[u+3]=r[u+3];if(g==16)for(u=0;u<d;u++)a[u]=r[u<<1]}else if(f==2){var m=t.tabs.tRNS;if(m==null){if(g==8)for(u=0;u<e;u++){var U=3*u;l[u]=255<<24|r[U+2]<<16|r[U+1]<<8|r[U]}if(g==16)for(u=0;u<e;u++)U=6*u,l[u]=255<<24|r[U+4]<<16|r[U+2]<<8|r[U]}else{var p=m[0],y=m[1],F=m[2];if(g==8)for(u=0;u<e;u++){var w=u<<2;U=3*u,l[u]=255<<24|r[U+2]<<16|r[U+1]<<8|r[U],r[U]==p&&r[U+1]==y&&r[U+2]==F&&(a[w+3]=0)}if(g==16)for(u=0;u<e;u++)w=u<<2,U=6*u,l[u]=255<<24|r[U+4]<<16|r[U+2]<<8|r[U],h(r,U)==p&&h(r,U+2)==y&&h(r,U+4)==F&&(a[w+3]=0)}}else if(f==3){var C=t.tabs.PLTE,b=t.tabs.tRNS,v=b?b.length:0;if(g==1)for(var _=0;_<c;_++){var A=_*s,I=_*i;for(u=0;u<i;u++){w=I+u<<2;var P=3*(E=r[A+(u>>3)]>>7-((7&u)<<0)&1);a[w]=C[P],a[w+1]=C[P+1],a[w+2]=C[P+2],a[w+3]=E<v?b[E]:255}}if(g==2)for(_=0;_<c;_++)for(A=_*s,I=_*i,u=0;u<i;u++)w=I+u<<2,P=3*(E=r[A+(u>>2)]>>6-((3&u)<<1)&3),a[w]=C[P],a[w+1]=C[P+1],a[w+2]=C[P+2],a[w+3]=E<v?b[E]:255;if(g==4)for(_=0;_<c;_++)for(A=_*s,I=_*i,u=0;u<i;u++)w=I+u<<2,P=3*(E=r[A+(u>>1)]>>4-((1&u)<<2)&15),a[w]=C[P],a[w+1]=C[P+1],a[w+2]=C[P+2],a[w+3]=E<v?b[E]:255;if(g==8)for(u=0;u<e;u++){var E;w=u<<2,P=3*(E=r[u]),a[w]=C[P],a[w+1]=C[P+1],a[w+2]=C[P+2],a[w+3]=E<v?b[E]:255}}else if(f==4){if(g==8)for(u=0;u<e;u++){w=u<<2;var B=r[M=u<<1];a[w]=B,a[w+1]=B,a[w+2]=B,a[w+3]=r[M+1]}if(g==16)for(u=0;u<e;u++){var M;w=u<<2,B=r[M=u<<2],a[w]=B,a[w+1]=B,a[w+2]=B,a[w+3]=r[M+2]}}else if(f==0)for(p=t.tabs.tRNS?t.tabs.tRNS:-1,_=0;_<c;_++){var R=_*s,x=_*i;if(g==1)for(var G=0;G<i;G++){var O=(B=255*(r[R+(G>>>3)]>>>7-(7&G)&1))==255*p?0:255;l[x+G]=O<<24|B<<16|B<<8|B}else if(g==2)for(G=0;G<i;G++)O=(B=85*(r[R+(G>>>2)]>>>6-((3&G)<<1)&3))==85*p?0:255,l[x+G]=O<<24|B<<16|B<<8|B;else if(g==4)for(G=0;G<i;G++)O=(B=17*(r[R+(G>>>1)]>>>4-((1&G)<<2)&15))==17*p?0:255,l[x+G]=O<<24|B<<16|B<<8|B;else if(g==8)for(G=0;G<i;G++)O=(B=r[R+G])==p?0:255,l[x+G]=O<<24|B<<16|B<<8|B;else if(g==16)for(G=0;G<i;G++)B=r[R+(G<<1)],O=h(r,R+(G<<u))==p?0:255,l[x+G]=O<<24|B<<16|B<<8|B}return a},UPNG.decode=function(r){for(var i,c=new Uint8Array(r),t=8,e=UPNG._bin,n=e.readUshort,s=e.readUint,a={tabs:{},frames:[]},l=new Uint8Array(c.length),f=0,g=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(c[d]!=h[d])throw"The input is not a PNG file!";for(;t<c.length;){var u=e.readUint(c,t);t+=4;var m=e.readASCII(c,t,4);if(t+=4,m=="IHDR")UPNG.decode._IHDR(c,t,a);else if(m=="CgBI")a.tabs[m]=c.slice(t,t+4);else if(m=="IDAT"){for(d=0;d<u;d++)l[f+d]=c[t+d];f+=u}else if(m=="acTL")a.tabs[m]={num_frames:s(c,t),num_plays:s(c,t+4)},i=new Uint8Array(c.length);else if(m=="fcTL"){var U;g!=0&&((U=a.frames[a.frames.length-1]).data=UPNG.decode._decompress(a,i.slice(0,g),U.rect.width,U.rect.height),g=0);var p={x:s(c,t+12),y:s(c,t+16),width:s(c,t+4),height:s(c,t+8)},y=n(c,t+22);y=n(c,t+20)/(y==0?100:y);var F={rect:p,delay:Math.round(1e3*y),dispose:c[t+24],blend:c[t+25]};a.frames.push(F)}else if(m=="fdAT"){for(d=0;d<u-4;d++)i[g+d]=c[t+d+4];g+=u-4}else if(m=="pHYs")a.tabs[m]=[e.readUint(c,t),e.readUint(c,t+4),c[t+8]];else if(m=="cHRM")for(a.tabs[m]=[],d=0;d<8;d++)a.tabs[m].push(e.readUint(c,t+4*d));else if(m=="tEXt"||m=="zTXt"){a.tabs[m]==null&&(a.tabs[m]={});var w=e.nextZero(c,t),C=e.readASCII(c,t,w-t),b=t+u-w-1;if(m=="tEXt")A=e.readASCII(c,w+1,b);else{var v=UPNG.decode._inflate(c.slice(w+2,w+2+b));A=e.readUTF8(v,0,v.length)}a.tabs[m][C]=A}else if(m=="iTXt"){a.tabs[m]==null&&(a.tabs[m]={}),w=0;var _=t;w=e.nextZero(c,_),C=e.readASCII(c,_,w-_);var A,I=c[_=w+1];c[_+1],_+=2,w=e.nextZero(c,_),e.readASCII(c,_,w-_),_=w+1,w=e.nextZero(c,_),e.readUTF8(c,_,w-_),b=u-((_=w+1)-t),I==0?A=e.readUTF8(c,_,b):(v=UPNG.decode._inflate(c.slice(_,_+b)),A=e.readUTF8(v,0,v.length)),a.tabs[m][C]=A}else if(m=="PLTE")a.tabs[m]=e.readBytes(c,t,u);else if(m=="hIST"){var P=a.tabs.PLTE.length/3;for(a.tabs[m]=[],d=0;d<P;d++)a.tabs[m].push(n(c,t+2*d))}else if(m=="tRNS")a.ctype==3?a.tabs[m]=e.readBytes(c,t,u):a.ctype==0?a.tabs[m]=n(c,t):a.ctype==2&&(a.tabs[m]=[n(c,t),n(c,t+2),n(c,t+4)]);else if(m=="gAMA")a.tabs[m]=e.readUint(c,t)/1e5;else if(m=="sRGB")a.tabs[m]=c[t];else if(m=="bKGD")a.ctype==0||a.ctype==4?a.tabs[m]=[n(c,t)]:a.ctype==2||a.ctype==6?a.tabs[m]=[n(c,t),n(c,t+2),n(c,t+4)]:a.ctype==3&&(a.tabs[m]=c[t]);else if(m=="IEND")break;t+=u,e.readUint(c,t),t+=4}return g!=0&&((U=a.frames[a.frames.length-1]).data=UPNG.decode._decompress(a,i.slice(0,g),U.rect.width,U.rect.height),g=0),a.data=UPNG.decode._decompress(a,l,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a},UPNG.decode._decompress=function(r,i,c,t){var e=UPNG.decode._getBPP(r),n=Math.ceil(c*e/8),s=new Uint8Array((n+1+r.interlace)*t);return i=r.tabs.CgBI?UPNG.inflateRaw(i,s):UPNG.decode._inflate(i,s),r.interlace==0?i=UPNG.decode._filterZero(i,r,0,c,t):r.interlace==1&&(i=UPNG.decode._readInterlace(i,r)),i},UPNG.decode._inflate=function(r,i){return UPNG.inflateRaw(new Uint8Array(r.buffer,2,r.length-6),i)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(r,i){var c,t,e=Uint8Array,n=0,s=0,a=0,l=0,f=0,g=0,h=0,d=0,u=0;if(r[0]==3&&r[1]==0)return i||new e(0);var m=H.H,U=m.b,p=m.e,y=m.R,F=m.n,w=m.A,C=m.Z,b=m.m,v=i==null;for(v&&(i=new e(r.length>>>2<<5));n==0;)if(n=U(r,u,1),s=U(r,u+1,2),u+=3,s!=0){if(v&&(i=H.H.W(i,d+(1<<17))),s==1&&(c=b.J,t=b.h,g=511,h=31),s==2){a=p(r,u,5)+257,l=p(r,u+5,5)+1,f=p(r,u+10,4)+4,u+=14;for(var _=1,A=0;A<38;A+=2)b.Q[A]=0,b.Q[A+1]=0;for(A=0;A<f;A++){var I=p(r,u+3*A,3);b.Q[1+(b.X[A]<<1)]=I,I>_&&(_=I)}u+=3*f,F(b.Q,_),w(b.Q,_,b.u),c=b.w,t=b.d,u=y(b.u,(1<<_)-1,a+l,r,u,b.v);var P=m.V(b.v,0,a,b.C);g=(1<<P)-1;var E=m.V(b.v,a,l,b.D);h=(1<<E)-1,F(b.C,P),w(b.C,P,c),F(b.D,E),w(b.D,E,t)}for(;;){var B=c[C(r,u)&g];u+=15&B;var M=B>>>4;if(M>>>8==0)i[d++]=M;else{if(M==256)break;var R=d+M-254;if(M>264){var x=b.q[M-257];R=d+(x>>>3)+p(r,u,7&x),u+=7&x}var G=t[C(r,u)&h];u+=15&G;var O=G>>>4,S=b.c[O],Z=(S>>>4)+U(r,u,15&S);for(u+=15&S;d<R;)i[d]=i[d++-Z],i[d]=i[d++-Z],i[d]=i[d++-Z],i[d]=i[d++-Z];d=R}}}else{(7&u)!=0&&(u+=8-(7&u));var k=4+(u>>>3),D=r[k-4]|r[k-3]<<8;v&&(i=H.H.W(i,d+D)),i.set(new e(r.buffer,r.byteOffset+k,D),d),u=k+D<<3,d+=D}return i.length==d?i:i.slice(0,d)},H.H.W=function(r,i){var c=r.length;if(i<=c)return r;var t=new Uint8Array(c<<1);return t.set(r,0),t},H.H.R=function(r,i,c,t,e,n){for(var s=H.H.e,a=H.H.Z,l=0;l<c;){var f=r[a(t,e)&i];e+=15&f;var g=f>>>4;if(g<=15)n[l]=g,l++;else{var h=0,d=0;g==16?(d=3+s(t,e,2),e+=2,h=n[l-1]):g==17?(d=3+s(t,e,3),e+=3):g==18&&(d=11+s(t,e,7),e+=7);for(var u=l+d;l<u;)n[l]=h,l++}}return e},H.H.V=function(r,i,c,t){for(var e=0,n=0,s=t.length>>>1;n<c;){var a=r[n+i];t[n<<1]=0,t[1+(n<<1)]=a,a>e&&(e=a),n++}for(;n<s;)t[n<<1]=0,t[1+(n<<1)]=0,n++;return e},H.H.n=function(r,i){for(var c,t,e,n,s=H.H.m,a=r.length,l=s.j,f=0;f<=i;f++)l[f]=0;for(f=1;f<a;f+=2)l[r[f]]++;var g=s.K;for(c=0,l[0]=0,t=1;t<=i;t++)c=c+l[t-1]<<1,g[t]=c;for(e=0;e<a;e+=2)(n=r[e+1])!=0&&(r[e]=g[n],g[n]++)},H.H.A=function(r,i,c){for(var t=r.length,e=H.H.m.r,n=0;n<t;n+=2)if(r[n+1]!=0)for(var s=n>>1,a=r[n+1],l=s<<4|a,f=i-a,g=r[n]<<f,h=g+(1<<f);g!=h;)c[e[g]>>>15-i]=l,g++},H.H.l=function(r,i){for(var c=H.H.m.r,t=15-i,e=0;e<r.length;e+=2){var n=r[e]<<i-r[e+1];r[e]=c[n]>>>t}},H.H.M=function(r,i,c){c<<=7&i;var t=i>>>3;r[t]|=c,r[t+1]|=c>>>8},H.H.I=function(r,i,c){c<<=7&i;var t=i>>>3;r[t]|=c,r[t+1]|=c>>>8,r[t+2]|=c>>>16},H.H.e=function(r,i,c){return(r[i>>>3]|r[1+(i>>>3)]<<8)>>>(7&i)&(1<<c)-1},H.H.b=function(r,i,c){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16)>>>(7&i)&(1<<c)-1},H.H.Z=function(r,i){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16)>>>(7&i)},H.H.i=function(r,i){return(r[i>>>3]|r[1+(i>>>3)]<<8|r[2+(i>>>3)]<<16|r[3+(i>>>3)]<<24)>>>(7&i)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var r=H.H.m,i=0;i<32768;i++){var c=i;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,r.r[i]=(c>>>16|c<<16)>>>17}function t(e,n,s){for(;n--!=0;)e.push(0,s)}for(i=0;i<32;i++)r.q[i]=r.S[i]<<3|r.T[i],r.c[i]=r.p[i]<<4|r.z[i];t(r._,144,8),t(r._,112,9),t(r._,24,7),t(r._,8,8),H.H.n(r._,9),H.H.A(r._,9,r.J),H.H.l(r._,9),t(r.$,32,5),H.H.n(r.$,5),H.H.A(r.$,5,r.h),H.H.l(r.$,5),t(r.Q,19,0),t(r.C,286,0),t(r.D,30,0),t(r.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(r,i){for(var c=i.width,t=i.height,e=UPNG.decode._getBPP(i),n=e>>3,s=Math.ceil(c*e/8),a=new Uint8Array(t*s),l=0,f=[0,0,4,0,2,0,1],g=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],u=0;u<7;){for(var m=h[u],U=d[u],p=0,y=0,F=f[u];F<t;)F+=m,y++;for(var w=g[u];w<c;)w+=U,p++;var C=Math.ceil(p*e/8);UPNG.decode._filterZero(r,i,l,p,y);for(var b=0,v=f[u];v<t;){for(var _=g[u],A=l+b*C<<3;_<c;){var I;if(e==1&&(I=(I=r[A>>3])>>7-(7&A)&1,a[v*s+(_>>3)]|=I<<7-((7&_)<<0)),e==2&&(I=(I=r[A>>3])>>6-(7&A)&3,a[v*s+(_>>2)]|=I<<6-((3&_)<<1)),e==4&&(I=(I=r[A>>3])>>4-(7&A)&15,a[v*s+(_>>1)]|=I<<4-((1&_)<<2)),e>=8)for(var P=v*s+_*n,E=0;E<n;E++)a[P+E]=r[(A>>3)+E];A+=e,_+=U}b++,v+=m}p*y!=0&&(l+=y*(1+C)),u+=1}return a},UPNG.decode._getBPP=function(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth},UPNG.decode._filterZero=function(r,i,c,t,e){var n=UPNG.decode._getBPP(i),s=Math.ceil(t*n/8),a=UPNG.decode._paeth;n=Math.ceil(n/8);var l=0,f=1,g=r[c],h=0;if(g>1&&(r[c]=[0,0,1][g-2]),g==3)for(h=n;h<s;h++)r[h+1]=r[h+1]+(r[h+1-n]>>>1)&255;for(var d=0;d<e;d++)if(h=0,(g=r[(f=(l=c+d*s)+d+1)-1])==0)for(;h<s;h++)r[l+h]=r[f+h];else if(g==1){for(;h<n;h++)r[l+h]=r[f+h];for(;h<s;h++)r[l+h]=r[f+h]+r[l+h-n]}else if(g==2)for(;h<s;h++)r[l+h]=r[f+h]+r[l+h-s];else if(g==3){for(;h<n;h++)r[l+h]=r[f+h]+(r[l+h-s]>>>1);for(;h<s;h++)r[l+h]=r[f+h]+(r[l+h-s]+r[l+h-n]>>>1)}else{for(;h<n;h++)r[l+h]=r[f+h]+a(0,r[l+h-s],0);for(;h<s;h++)r[l+h]=r[f+h]+a(r[l+h-n],r[l+h-s],r[l+h-n-s])}return r},UPNG.decode._paeth=function(r,i,c){var t=r+i-c,e=t-r,n=t-i,s=t-c;return e*e<=n*n&&e*e<=s*s?r:n*n<=s*s?i:c},UPNG.decode._IHDR=function(r,i,c){var t=UPNG._bin;c.width=t.readUint(r,i),i+=4,c.height=t.readUint(r,i),i+=4,c.depth=r[i],i++,c.ctype=r[i],i++,c.compress=r[i],i++,c.filter=r[i],i++,c.interlace=r[i],i++},UPNG._bin={nextZero:function(i,c){for(;i[c]!=0;)c++;return c},readUshort:function(i,c){return i[c]<<8|i[c+1]},writeUshort:function(i,c,t){i[c]=t>>8&255,i[c+1]=255&t},readUint:function(i,c){return 16777216*i[c]+(i[c+1]<<16|i[c+2]<<8|i[c+3])},writeUint:function(i,c,t){i[c]=t>>24&255,i[c+1]=t>>16&255,i[c+2]=t>>8&255,i[c+3]=255&t},readASCII:function(i,c,t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(i[c+n]);return e},writeASCII:function(i,c,t){for(var e=0;e<t.length;e++)i[c+e]=t.charCodeAt(e)},readBytes:function(i,c,t){for(var e=[],n=0;n<t;n++)e.push(i[c+n]);return e},pad:function(i){return i.length<2?"0".concat(i):i},readUTF8:function(i,c,t){for(var e,n="",s=0;s<t;s++)n+="%".concat(UPNG._bin.pad(i[c+s].toString(16)));try{e=decodeURIComponent(n)}catch{return UPNG._bin.readASCII(i,c,t)}return e}},UPNG._copyTile=function(r,i,c,t,e,n,s,a,l){for(var f=Math.min(i,e),g=Math.min(c,n),h=0,d=0,u=0;u<g;u++)for(var m=0;m<f;m++)if(s>=0&&a>=0?(h=u*i+m<<2,d=(a+u)*e+s+m<<2):(h=(-a+u)*i-s+m<<2,d=u*e+m<<2),l==0)t[d]=r[h],t[d+1]=r[h+1],t[d+2]=r[h+2],t[d+3]=r[h+3];else if(l==1){var U=r[h+3]*.00392156862745098,p=r[h]*U,y=r[h+1]*U,F=r[h+2]*U,w=t[d+3]*(1/255),C=t[d]*w,b=t[d+1]*w,v=t[d+2]*w,_=1-U,A=U+w*_,I=A==0?0:1/A;t[d+3]=255*A,t[d+0]=(p+C*_)*I,t[d+1]=(y+b*_)*I,t[d+2]=(F+v*_)*I}else if(l==2)U=r[h+3],p=r[h],y=r[h+1],F=r[h+2],w=t[d+3],C=t[d],b=t[d+1],v=t[d+2],U==w&&p==C&&y==b&&F==v?(t[d]=0,t[d+1]=0,t[d+2]=0,t[d+3]=0):(t[d]=p,t[d+1]=y,t[d+2]=F,t[d+3]=U);else if(l==3){if(U=r[h+3],p=r[h],y=r[h+1],F=r[h+2],w=t[d+3],C=t[d],b=t[d+1],v=t[d+2],U==w&&p==C&&y==b&&F==v)continue;if(U<220&&w>20)return!1}return!0},UPNG.encode=function(r,i,c,t,e,n,s){t==null&&(t=0),s==null&&(s=!1);var a=UPNG.encode.compress(r,i,c,t,[!1,!1,!1,0,s]);return UPNG.encode.compressPNG(a,-1),UPNG.encode._main(a,i,c,e,n)},UPNG.encodeLL=function(r,i,c,t,e,n,s,a){for(var l={ctype:0+(t==1?0:2)+(e==0?0:4),depth:n,frames:[]},f=(t+e)*n,g=f*i,h=0;h<r.length;h++)l.frames.push({rect:{x:0,y:0,width:i,height:c},img:new Uint8Array(r[h]),blend:0,dispose:1,bpp:Math.ceil(f/8),bpl:Math.ceil(g/8)});return UPNG.encode.compressPNG(l,0,!0),UPNG.encode._main(l,i,c,s,a)},UPNG.encode._main=function(r,i,c,t,e){e==null&&(e={});var n=UPNG.crc.crc,s=UPNG._bin.writeUint,a=UPNG._bin.writeUshort,l=UPNG._bin.writeASCII,f=8,g=r.frames.length>1,h=!1,d=33+(g?20:0);if(e.sRGB!=null&&(d+=13),e.pHYs!=null&&(d+=21),r.ctype==3){for(var u=r.plte.length,m=0;m<u;m++)r.plte[m]>>>24!=255&&(h=!0);d+=8+3*u+4+(h?8+1*u+4:0)}for(var U=0;U<r.frames.length;U++)g&&(d+=38),d+=(A=r.frames[U]).cimg.length+12,U!=0&&(d+=4);d+=12;var p=new Uint8Array(d),y=[137,80,78,71,13,10,26,10];for(m=0;m<8;m++)p[m]=y[m];if(s(p,f,13),l(p,f+=4,"IHDR"),s(p,f+=4,i),s(p,f+=4,c),p[f+=4]=r.depth,p[++f]=r.ctype,p[++f]=0,p[++f]=0,p[++f]=0,s(p,++f,n(p,f-17,17)),f+=4,e.sRGB!=null&&(s(p,f,1),l(p,f+=4,"sRGB"),p[f+=4]=e.sRGB,s(p,++f,n(p,f-5,5)),f+=4),e.pHYs!=null&&(s(p,f,9),l(p,f+=4,"pHYs"),s(p,f+=4,e.pHYs[0]),s(p,f+=4,e.pHYs[1]),p[f+=4]=e.pHYs[2],s(p,++f,n(p,f-13,13)),f+=4),g&&(s(p,f,8),l(p,f+=4,"acTL"),s(p,f+=4,r.frames.length),s(p,f+=4,e.loop!=null?e.loop:0),s(p,f+=4,n(p,f-12,12)),f+=4),r.ctype==3){for(s(p,f,3*(u=r.plte.length)),l(p,f+=4,"PLTE"),f+=4,m=0;m<u;m++){var F=3*m,w=r.plte[m],C=255&w,b=w>>>8&255,v=w>>>16&255;p[f+F+0]=C,p[f+F+1]=b,p[f+F+2]=v}if(s(p,f+=3*u,n(p,f-3*u-4,3*u+4)),f+=4,h){for(s(p,f,u),l(p,f+=4,"tRNS"),f+=4,m=0;m<u;m++)p[f+m]=r.plte[m]>>>24&255;s(p,f+=u,n(p,f-u-4,u+4)),f+=4}}var _=0;for(U=0;U<r.frames.length;U++){var A=r.frames[U];g&&(s(p,f,26),l(p,f+=4,"fcTL"),s(p,f+=4,_++),s(p,f+=4,A.rect.width),s(p,f+=4,A.rect.height),s(p,f+=4,A.rect.x),s(p,f+=4,A.rect.y),a(p,f+=4,t[U]),a(p,f+=2,1e3),p[f+=2]=A.dispose,p[++f]=A.blend,s(p,++f,n(p,f-30,30)),f+=4);var I=A.cimg;s(p,f,(u=I.length)+(U==0?0:4));var P=f+=4;l(p,f,U==0?"IDAT":"fdAT"),f+=4,U!=0&&(s(p,f,_++),f+=4),p.set(I,f),s(p,f+=u,n(p,P,f-P)),f+=4}return s(p,f,0),l(p,f+=4,"IEND"),s(p,f+=4,n(p,f-4,4)),f+=4,p.buffer},UPNG.encode.compressPNG=function(r,i,c){for(var t=0;t<r.frames.length;t++){var e=r.frames[t];e.rect.width;var n=e.rect.height,s=new Uint8Array(n*e.bpl+n);e.cimg=UPNG.encode._filterZero(e.img,n,e.bpp,e.bpl,s,i,c)}},UPNG.encode.compress=function(r,i,c,t,e){for(var n=e[0],s=e[1],a=e[2],l=e[3],f=e[4],g=6,h=8,d=255,u=0;u<r.length;u++)for(var m=new Uint8Array(r[u]),U=m.length,p=0;p<U;p+=4)d&=m[p+3];var y=d!=255,F=UPNG.encode.framize(r,i,c,n,s,a),w={},C=[],b=[];if(t!=0){var v=[];for(p=0;p<F.length;p++)v.push(F[p].img.buffer);var _=UPNG.encode.concatRGBA(v),A=UPNG.quantize(_,t),I=0,P=new Uint8Array(A.abuf);for(p=0;p<F.length;p++){var E=(q=F[p].img).length;for(b.push(new Uint8Array(A.inds.buffer,I>>2,E>>2)),u=0;u<E;u+=4)q[u]=P[I+u],q[u+1]=P[I+u+1],q[u+2]=P[I+u+2],q[u+3]=P[I+u+3];I+=E}for(p=0;p<A.plte.length;p++)C.push(A.plte[p].est.rgba)}else for(u=0;u<F.length;u++){var B=F[u],M=new Uint32Array(B.img.buffer),R=B.rect.width,x=(U=M.length,new Uint8Array(U));for(b.push(x),p=0;p<U;p++){var G=M[p];if(p!=0&&G==M[p-1])x[p]=x[p-1];else if(p>R&&G==M[p-R])x[p]=x[p-R];else{var O=w[G];if(O==null&&(w[G]=O=C.length,C.push(G),C.length>=300))break;x[p]=O}}}var S=C.length;for(S<=256&&f==0&&(h=S<=2?1:S<=4?2:S<=16?4:8,h=Math.max(h,l)),u=0;u<F.length;u++){(B=F[u]).rect.x,B.rect.y,R=B.rect.width;var Z=B.rect.height,k=B.img;new Uint32Array(k.buffer);var D=4*R,z=4;if(S<=256&&f==0){D=Math.ceil(h*R/8);for(var V=new Uint8Array(D*Z),L=b[u],j=0;j<Z;j++){p=j*D;var Q=j*R;if(h==8)for(var T=0;T<R;T++)V[p+T]=L[Q+T];else if(h==4)for(T=0;T<R;T++)V[p+(T>>1)]|=L[Q+T]<<4-4*(1&T);else if(h==2)for(T=0;T<R;T++)V[p+(T>>2)]|=L[Q+T]<<6-2*(3&T);else if(h==1)for(T=0;T<R;T++)V[p+(T>>3)]|=L[Q+T]<<7-1*(7&T)}k=V,g=3,z=1}else if(y==0&&F.length==1){V=new Uint8Array(R*Z*3);var X=R*Z;for(p=0;p<X;p++){var q,$=4*p;V[q=3*p]=k[$],V[q+1]=k[$+1],V[q+2]=k[$+2]}k=V,g=2,z=3,D=3*R}B.img=k,B.bpl=D,B.bpp=z}return{ctype:g,depth:h,plte:C,frames:F}},UPNG.encode.framize=function(r,i,c,t,e,n){for(var s=[],a=0;a<r.length;a++){var l,f=new Uint8Array(r[a]),g=new Uint32Array(f.buffer),h=0,d=0,u=i,m=c,U=t?1:0;if(a!=0){for(var p=n||t||a==1||s[a-2].dispose!=0?1:2,y=0,F=1e9,w=0;w<p;w++){for(var C=new Uint8Array(r[a-1-w]),b=new Uint32Array(r[a-1-w]),v=i,_=c,A=-1,I=-1,P=0;P<c;P++)for(var E=0;E<i;E++)g[S=P*i+E]!=b[S]&&(E<v&&(v=E),E>A&&(A=E),P<_&&(_=P),P>I&&(I=P));A==-1&&(v=_=A=I=0),e&&((1&v)==1&&v--,(1&_)==1&&_--);var B=(A-v+1)*(I-_+1);B<F&&(F=B,y=w,h=v,d=_,u=A-v+1,m=I-_+1)}C=new Uint8Array(r[a-1-y]),y==1&&(s[a-1].dispose=2),l=new Uint8Array(u*m*4),UPNG._copyTile(C,i,c,l,u,m,-h,-d,0),(U=UPNG._copyTile(f,i,c,l,u,m,-h,-d,3)?1:0)==1?UPNG.encode._prepareDiff(f,i,c,l,{x:h,y:d,width:u,height:m}):UPNG._copyTile(f,i,c,l,u,m,-h,-d,0)}else l=f.slice(0);s.push({rect:{x:h,y:d,width:u,height:m},img:l,blend:U,dispose:0})}if(t){for(a=0;a<s.length;a++)if((Z=s[a]).blend!=1){var M=Z.rect,R=s[a-1].rect,x=Math.min(M.x,R.x),G=Math.min(M.y,R.y),O={x,y:G,width:Math.max(M.x+M.width,R.x+R.width)-x,height:Math.max(M.y+M.height,R.y+R.height)-G};s[a-1].dispose=1,a-1!=0&&UPNG.encode._updateFrame(r,i,c,s,a-1,O,e),UPNG.encode._updateFrame(r,i,c,s,a,O,e)}}if(r.length!=1)for(var S=0;S<s.length;S++){var Z;(Z=s[S]).rect.width*Z.rect.height}return s},UPNG.encode._updateFrame=function(r,i,c,t,e,n,s){for(var a=Uint8Array,l=Uint32Array,f=new a(r[e-1]),g=new l(r[e-1]),h=e+1<r.length?new a(r[e+1]):null,d=new a(r[e]),u=new l(d.buffer),m=i,U=c,p=-1,y=-1,F=0;F<n.height;F++)for(var w=0;w<n.width;w++){var C=n.x+w,b=n.y+F,v=b*i+C,_=u[v];_==0||t[e-1].dispose==0&&g[v]==_&&(h==null||h[4*v+3]!=0)||(C<m&&(m=C),C>p&&(p=C),b<U&&(U=b),b>y&&(y=b))}p==-1&&(m=U=p=y=0),s&&((1&m)==1&&m--,(1&U)==1&&U--),n={x:m,y:U,width:p-m+1,height:y-U+1};var A=t[e];A.rect=n,A.blend=1,A.img=new Uint8Array(n.width*n.height*4),t[e-1].dispose==0?(UPNG._copyTile(f,i,c,A.img,n.width,n.height,-n.x,-n.y,0),UPNG.encode._prepareDiff(d,i,c,A.img,n)):UPNG._copyTile(d,i,c,A.img,n.width,n.height,-n.x,-n.y,0)},UPNG.encode._prepareDiff=function(r,i,c,t,e){UPNG._copyTile(r,i,c,t,e.width,e.height,-e.x,-e.y,2)},UPNG.encode._filterZero=function(r,i,c,t,e,n,s){var a,l=[],f=[0,1,2,3,4];n!=-1?f=[n]:(i*t>5e5||c==1)&&(f=[0]),s&&(a={level:0});for(var g,h=UZIP,d=0;d<f.length;d++){for(var u=0;u<i;u++)UPNG.encode._filterLine(e,r,u,t,c,f[d]);l.push(h.deflate(e,a))}var m=1e9;for(d=0;d<l.length;d++)l[d].length<m&&(g=d,m=l[d].length);return l[g]},UPNG.encode._filterLine=function(r,i,c,t,e,n){var s=c*t,a=s+c,l=UPNG.decode._paeth;if(r[a]=n,a++,n==0)if(t<500)for(var f=0;f<t;f++)r[a+f]=i[s+f];else r.set(new Uint8Array(i.buffer,s,t),a);else if(n==1){for(f=0;f<e;f++)r[a+f]=i[s+f];for(f=e;f<t;f++)r[a+f]=i[s+f]-i[s+f-e]+256&255}else if(c==0){for(f=0;f<e;f++)r[a+f]=i[s+f];if(n==2)for(f=e;f<t;f++)r[a+f]=i[s+f];if(n==3)for(f=e;f<t;f++)r[a+f]=i[s+f]-(i[s+f-e]>>1)+256&255;if(n==4)for(f=e;f<t;f++)r[a+f]=i[s+f]-l(i[s+f-e],0,0)+256&255}else{if(n==2)for(f=0;f<t;f++)r[a+f]=i[s+f]+256-i[s+f-t]&255;if(n==3){for(f=0;f<e;f++)r[a+f]=i[s+f]+256-(i[s+f-t]>>1)&255;for(f=e;f<t;f++)r[a+f]=i[s+f]+256-(i[s+f-t]+i[s+f-e]>>1)&255}if(n==4){for(f=0;f<e;f++)r[a+f]=i[s+f]+256-l(0,i[s+f-t],0)&255;for(f=e;f<t;f++)r[a+f]=i[s+f]+256-l(i[s+f-e],i[s+f-t],i[s+f-e-t])&255}}},UPNG.crc={table:function(){for(var r=new Uint32Array(256),i=0;i<256;i++){for(var c=i,t=0;t<8;t++)1&c?c=3988292384^c>>>1:c>>>=1;r[i]=c}return r}(),update:function(i,c,t,e){for(var n=0;n<e;n++)i=UPNG.crc.table[255&(i^c[t+n])]^i>>>8;return i},crc:function(i,c,t){return 4294967295^UPNG.crc.update(4294967295,i,c,t)}},UPNG.quantize=function(r,i){var c,t=new Uint8Array(r),e=t.slice(0),n=new Uint32Array(e.buffer),s=UPNG.quantize.getKDtree(e,i),a=s[0],l=s[1],f=UPNG.quantize.planeDst,g=t,h=n,d=g.length,u=new Uint8Array(t.length>>2);if(t.length<2e7)for(var m=0;m<d;m+=4){var U=g[m]*.00392156862745098,p=g[m+1]*(1/255),y=g[m+2]*(1/255),F=g[m+3]*(1/255);c=UPNG.quantize.getNearest(a,U,p,y,F),u[m>>2]=c.ind,h[m>>2]=c.est.rgba}else for(m=0;m<d;m+=4){for(U=g[m]*(1/255),p=g[m+1]*(1/255),y=g[m+2]*(1/255),F=g[m+3]*(1/255),c=a;c.left;)c=f(c.est,U,p,y,F)<=0?c.left:c.right;u[m>>2]=c.ind,h[m>>2]=c.est.rgba}return{abuf:e.buffer,inds:u,plte:l}},UPNG.quantize.getKDtree=function(r,i,c){c==null&&(c=1e-4);var t=new Uint32Array(r.buffer),e={i0:0,i1:r.length,bst:null,est:null,tdst:0,left:null,right:null};e.bst=UPNG.quantize.stats(r,e.i0,e.i1),e.est=UPNG.quantize.estats(e.bst);for(var n=[e];n.length<i;){for(var s=0,a=0,l=0;l<n.length;l++)n[l].est.L>s&&(s=n[l].est.L,a=l);if(s<c)break;var f=n[a],g=UPNG.quantize.splitPixels(r,t,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=g||f.i1<=g)f.est.L=0;else{var h={i0:f.i0,i1:g,bst:null,est:null,tdst:0,left:null,right:null};h.bst=UPNG.quantize.stats(r,h.i0,h.i1),h.est=UPNG.quantize.estats(h.bst);var d={i0:g,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};for(d.bst={R:[],m:[],N:f.bst.N-h.bst.N},l=0;l<16;l++)d.bst.R[l]=f.bst.R[l]-h.bst.R[l];for(l=0;l<4;l++)d.bst.m[l]=f.bst.m[l]-h.bst.m[l];d.est=UPNG.quantize.estats(d.bst),f.left=h,f.right=d,n[a]=h,n.push(d)}}for(n.sort(function(u,m){return m.bst.N-u.bst.N}),l=0;l<n.length;l++)n[l].ind=l;return[e,n]},UPNG.quantize.getNearest=function(r,i,c,t,e){if(r.left==null)return r.tdst=UPNG.quantize.dist(r.est.q,i,c,t,e),r;var n=UPNG.quantize.planeDst(r.est,i,c,t,e),s=r.left,a=r.right;n>0&&(s=r.right,a=r.left);var l=UPNG.quantize.getNearest(s,i,c,t,e);if(l.tdst<=n*n)return l;var f=UPNG.quantize.getNearest(a,i,c,t,e);return f.tdst<l.tdst?f:l},UPNG.quantize.planeDst=function(r,i,c,t,e){var n=r.e;return n[0]*i+n[1]*c+n[2]*t+n[3]*e-r.eMq},UPNG.quantize.dist=function(r,i,c,t,e){var n=i-r[0],s=c-r[1],a=t-r[2],l=e-r[3];return n*n+s*s+a*a+l*l},UPNG.quantize.splitPixels=function(r,i,c,t,e,n){var s=UPNG.quantize.vecDot;for(t-=4;c<t;){for(;s(r,c,e)<=n;)c+=4;for(;s(r,t,e)>n;)t-=4;if(c>=t)break;var a=i[c>>2];i[c>>2]=i[t>>2],i[t>>2]=a,c+=4,t-=4}for(;s(r,c,e)>n;)c-=4;return c+4},UPNG.quantize.vecDot=function(r,i,c){return r[i]*c[0]+r[i+1]*c[1]+r[i+2]*c[2]+r[i+3]*c[3]},UPNG.quantize.stats=function(r,i,c){for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0],n=c-i>>2,s=i;s<c;s+=4){var a=r[s]*.00392156862745098,l=r[s+1]*(1/255),f=r[s+2]*(1/255),g=r[s+3]*(1/255);e[0]+=a,e[1]+=l,e[2]+=f,e[3]+=g,t[0]+=a*a,t[1]+=a*l,t[2]+=a*f,t[3]+=a*g,t[5]+=l*l,t[6]+=l*f,t[7]+=l*g,t[10]+=f*f,t[11]+=f*g,t[15]+=g*g}return t[4]=t[1],t[8]=t[2],t[9]=t[6],t[12]=t[3],t[13]=t[7],t[14]=t[11],{R:t,m:e,N:n}},UPNG.quantize.estats=function(r){var i=r.R,c=r.m,t=r.N,e=c[0],n=c[1],s=c[2],a=c[3],l=t==0?0:1/t,f=[i[0]-e*e*l,i[1]-e*n*l,i[2]-e*s*l,i[3]-e*a*l,i[4]-n*e*l,i[5]-n*n*l,i[6]-n*s*l,i[7]-n*a*l,i[8]-s*e*l,i[9]-s*n*l,i[10]-s*s*l,i[11]-s*a*l,i[12]-a*e*l,i[13]-a*n*l,i[14]-a*s*l,i[15]-a*a*l],g=f,h=UPNG.M4,d=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,m=0;if(t!=0)for(var U=0;U<16&&(d=h.multVec(g,d),m=Math.sqrt(h.dot(d,d)),d=h.sml(1/m,d),!(U!=0&&Math.abs(m-u)<1e-9));U++)u=m;var p=[e*l,n*l,s*l,a*l];return{Cov:f,q:p,e:d,L:u,eMq255:h.dot(h.sml(255,p),d),eMq:h.dot(d,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0])<<0)>>>0}},UPNG.M4={multVec:function(i,c){return[i[0]*c[0]+i[1]*c[1]+i[2]*c[2]+i[3]*c[3],i[4]*c[0]+i[5]*c[1]+i[6]*c[2]+i[7]*c[3],i[8]*c[0]+i[9]*c[1]+i[10]*c[2]+i[11]*c[3],i[12]*c[0]+i[13]*c[1]+i[14]*c[2]+i[15]*c[3]]},dot:function(i,c){return i[0]*c[0]+i[1]*c[1]+i[2]*c[2]+i[3]*c[3]},sml:function(i,c){return[i*c[0],i*c[1],i*c[2],i*c[3]]}},UPNG.encode.concatRGBA=function(r){for(var i=0,c=0;c<r.length;c++)i+=r[c].byteLength;var t=new Uint8Array(i),e=0;for(c=0;c<r.length;c++){for(var n=new Uint8Array(r[c]),s=n.length,a=0;a<s;a+=4){var l=n[a],f=n[a+1],g=n[a+2],h=n[a+3];h==0&&(l=f=g=0),t[e+a]=l,t[e+a+1]=f,t[e+a+2]=g,t[e+a+3]=h}e+=s}return t.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser=typeof window!="undefined",moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(r,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(t){for(var e=r.split(","),n=e[0].match(/:(.*?);/)[1],s=globalThis.atob(e[1]),a=s.length,l=new Uint8Array(a);a--;)l[a]=s.charCodeAt(a);var f=new Blob([l],{type:n});f.name=i,f.lastModified=c,t(f)})}function getDataUrlFromFile(r){return new Promise(function(i,c){var t=new CustomFileReader;t.onload=function(){return i(t.result)},t.onerror=function(e){return c(e)},t.readAsDataURL(r)})}function loadImage(r){return new Promise(function(i,c){var t=new Image;t.onload=function(){return i(t)},t.onerror=function(e){return c(e)},t.src=r})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var r=BROWSER_NAME.ETC,i=navigator.userAgent;return/Chrom(e|ium)/i.test(i)?r=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(i)&&/WebKit/i.test(i)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(i)?r=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(i)?r=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(i)?r=BROWSER_NAME.FIREFOX:(/MSIE/i.test(i)||!!document.documentMode)&&(r=BROWSER_NAME.IE),getBrowserName.cachedResult=r,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(r,i){for(var c=getBrowserName(),t=MAX_CANVAS_SIZE[c],e=r,n=i,s=e*n,a=e>n?n/e:e/n;s>t*t;){var l=(t+e)/2,f=(t+n)/2;l<f?(n=f,e=f*a):(n=l*a,e=l),s=e*n}return{width:e,height:n}}function getNewCanvasAndCtx(r,i){var c,t;try{if((t=(c=new OffscreenCanvas(r,i)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=(c=document.createElement("canvas")).getContext("2d")}return c.width=r,c.height=i,[c,t]}function drawImageInCanvas(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=approximateBelowMaximumCanvasSizeOfBrowser(r.width,r.height),t=c.width,e=c.height,n=getNewCanvasAndCtx(t,e),s=_slicedToArray(n,2),a=s[0],l=s[1];return i&&/jpe?g/.test(i)&&(l.fillStyle="white",l.fillRect(0,0,a.width,a.height)),l.drawImage(r,0,0,a.width,a.height),a}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document!="undefined"&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(c,t){var e,n,s=function(){try{return n=drawImageInCanvas(e,i.fileType||r.type),c([e,n])}catch(f){return t(f)}},a=function(f){try{var g=function(d){try{throw d}catch(u){return t(u)}};try{return getDataUrlFromFile(r).then(function(h){try{return loadImage(h).then(function(d){try{return e=d,function(){try{return s()}catch(m){return t(m)}}()}catch(u){return g(u)}},g)}catch(d){return g(d)}},g)}catch(h){g(h)}}catch(h){return t(h)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(l){try{return e=l,s()}catch{return a()}},a)}catch{a()}})}function canvasToFile(r,i,c,t){var e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(n,s){var a,l,f;if(i==="image/png")return l=r.getContext("2d").getImageData(0,0,r.width,r.height).data,f=UPNG.encode([l],r.width,r.height,256*e),(a=new Blob([f],{type:i})).name=c,a.lastModified=t,g.call(this);{let h=function(){return g.call(this)};return typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas?r.convertToBlob({type:i,quality:e}).then(function(d){try{return(a=d).name=c,a.lastModified=t,h.call(this)}catch(u){return s(u)}}.bind(this),s):getFilefromDataUrl(r.toDataURL(i,e),c,t).then(function(d){try{return a=d,h.call(this)}catch(u){return s(u)}}.bind(this),s)}function g(){return n(a)}})}function cleanupCanvasMemory(r){r.width=0,r.height=0}function isAutoOrientationInBrowser(){return new Promise(function(r,i){var c,t,e,n;return isAutoOrientationInBrowser.cachedResult!==void 0?r(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return drawFileInCanvas(c=s).then(function(a){try{return canvasToFile(t=a[1],c.type,c.name,c.lastModified).then(function(l){try{return e=l,cleanupCanvasMemory(t),drawFileInCanvas(e).then(function(f){try{return n=f[0],isAutoOrientationInBrowser.cachedResult=n.width===1&&n.height===2,r(isAutoOrientationInBrowser.cachedResult)}catch(g){return i(g)}},i)}catch(f){return i(f)}},i)}catch(l){return i(l)}},i)}catch(a){return i(a)}},i)})}function getExifOrientation(r){return new Promise(function(i,c){var t=new CustomFileReader;t.onload=function(e){var n=new DataView(e.target.result);if(n.getUint16(0,!1)!=65496)return i(-2);for(var s=n.byteLength,a=2;a<s;){if(n.getUint16(a+2,!1)<=8)return i(-1);var l=n.getUint16(a,!1);if(a+=2,l==65505){if(n.getUint32(a+=2,!1)!=1165519206)return i(-1);var f=n.getUint16(a+=6,!1)==18761;a+=n.getUint32(a+4,f);var g=n.getUint16(a,f);a+=2;for(var h=0;h<g;h++)if(n.getUint16(a+12*h,f)==274)return i(n.getUint16(a+12*h+8,f))}else{if((65280&l)!=65280)break;a+=n.getUint16(a,!1)}}return i(-1)},t.onerror=function(e){return c(e)},t.readAsArrayBuffer(r)})}function handleMaxWidthOrHeight(r,i){var c,t=r.width,e=r.height,n=i.maxWidthOrHeight,s=r;if(isFinite(n)&&(t>n||e>n)){var a=_slicedToArray(getNewCanvasAndCtx(t,e),2);s=a[0],c=a[1],t>e?(s.width=n,s.height=e/t*n):(s.width=t/e*n,s.height=n),c.drawImage(r,0,0,s.width,s.height),cleanupCanvasMemory(r)}return s}function followExifOrientation(r,i){var c=r.width,t=r.height,e=_slicedToArray(getNewCanvasAndCtx(c,t),2),n=e[0],s=e[1];switch(i>4&&i<9?(n.width=t,n.height=c):(n.width=c,n.height=t),i){case 2:s.transform(-1,0,0,1,c,0);break;case 3:s.transform(-1,0,0,-1,c,t);break;case 4:s.transform(1,0,0,-1,0,t);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,t,0);break;case 7:s.transform(0,-1,-1,0,t,c);break;case 8:s.transform(0,-1,1,0,0,c)}return s.drawImage(r,0,0,c,t),cleanupCanvasMemory(r),n}function compress(r,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(t,e){var n,s,a,l,f,g,h,d,u,m,U,p,y,F,w,C,b,v,_;function A(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;if(i.signal&&i.signal.aborted)throw i.signal.reason;n+=P,i.onProgress(Math.min(n,100))}function I(P){if(i.signal&&i.signal.aborted)throw i.signal.reason;n=Math.min(Math.max(P,n),100),i.onProgress(n)}return n=c,s=i.maxIteration||10,a=1024*i.maxSizeMB*1024,A(),drawFileInCanvas(r,i).then(function(P){try{var E=_slicedToArray(P,2);return l=E[1],A(),f=handleMaxWidthOrHeight(l,i),A(),new Promise(function(B,M){var R;if(!(R=i.exifOrientation))return getExifOrientation(r).then(function(G){try{return R=G,x.call(this)}catch(O){return M(O)}}.bind(this),M);function x(){return B(R)}return x.call(this)}).then(function(B){try{return g=B,A(),isAutoOrientationInBrowser().then(function(M){try{return h=M?f:followExifOrientation(f,g),A(),d=i.initialQuality||1,u=i.fileType||r.type,canvasToFile(h,u,r.name,r.lastModified,d).then(function(R){try{{let G=function(){if(s--&&(w>a||w>y)){var S,Z,k=_slicedToArray(getNewCanvasAndCtx(S=_?.95*v.width:v.width,Z=_?.95*v.height:v.height),2);return b=k[0],k[1].drawImage(v,0,0,S,Z),d*=.95,canvasToFile(b,u,r.name,r.lastModified,d).then(function(D){try{return C=D,cleanupCanvasMemory(v),v=b,w=C.size,I(Math.min(99,Math.floor((F-w)/(F-a)*100))),G}catch(z){return e(z)}},e)}return[1]},O=function(){return cleanupCanvasMemory(v),cleanupCanvasMemory(b),cleanupCanvasMemory(f),cleanupCanvasMemory(h),cleanupCanvasMemory(l),I(100),t(C)};if(m=R,A(),U=m.size>a,p=m.size>r.size,!U&&!p)return I(100),t(m);var x;return y=r.size,F=m.size,w=F,v=h,_=!i.alwaysKeepResolution&&U,(x=function(S){for(;S;){if(S.then)return void S.then(x,e);try{if(S.pop){if(S.length)return S.pop()?O.call(this):S;S=G}else S=S.call(this)}catch(Z){return e(Z)}}}.bind(this))(G)}}catch(G){return e(G)}}.bind(this),e)}catch(R){return e(R)}}.bind(this),e)}catch(M){return e(M)}}.bind(this),e)}catch(B){return e(B)}}.bind(this),e)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(r){var i=[];return typeof r=="function"?i.push("(".concat(r,")()")):i.push(r),new Worker(URL.createObjectURL(new Blob(i)))}function createSourceObject(r){return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))}function stringify(r){return JSON.stringify(r,function(i,c){return typeof c=="function"?"BIC_FN:::(function () { return ".concat(c.toString()," })()"):c})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(r){throw r}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(r,i){return new Promise(function(c,t){var e=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function n(s){if(s.data.id===e){if(i.signal&&i.signal.aborted)return;if(s.data.progress!==void 0)return void i.onProgress(s.data.progress);worker.removeEventListener("message",n),s.data.error&&t(new Error(s.data.error)),c(s.data.file)}}),worker.addEventListener("error",t),i.signal&&i.signal.addEventListener("abort",function(){worker.terminate(),t(i.signal.reason)}),worker.postMessage({file:r,id:e,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},i),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(r,i){return new Promise(function(c,t){var e,n,s,a,l,f;if(e=_objectSpread2({},i),s=0,a=e.onProgress,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=function(u){s=u,typeof a=="function"&&a(s)},!(r instanceof Blob||r instanceof CustomFile))return t(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return t(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||f)return compress(r,e).then(function(u){try{return n=u,d.call(this)}catch(m){return t(m)}}.bind(this),t);var g=function(){try{return d.call(this)}catch(u){return t(u)}}.bind(this),h=function(m){try{return compress(r,e).then(function(U){try{return n=U,g()}catch(p){return t(p)}},t)}catch(U){return t(U)}};try{return compressOnWebWorker(r,e).then(function(u){try{return n=u,g()}catch{return h()}},h)}catch{h()}function d(){try{n.name=r.name,n.lastModified=r.lastModified}catch{}return c(n)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0";const _hoisted_1={class:"custom-border dark:dark-card shadow-black-3px mt-8 rounded-lg bg-white p-8"},_hoisted_2=createBaseVNode("label",{for:"content"},"\u8CBC\u6587\u5167\u5BB9",-1),_hoisted_3=["disabled"],_hoisted_4={class:"mt-4"},_hoisted_5=createBaseVNode("label",{class:"inline-block cursor-pointer bg-black py-1 px-8 text-white",for:"uploadImages"},"\u4E0A\u50B3\u5716\u7247",-1),_hoisted_6=["disabled"],_hoisted_7={class:"mt-4"},_hoisted_8={class:"col-span-full bg-white py-1 text-center text-sm text-gray-600 dark:bg-gray-400"},_hoisted_9=["src"],_hoisted_10=["onClick"],_hoisted_11=createBaseVNode("title",null,"\u522A\u9664\u5716\u7247",-1),_hoisted_12={class:"mt-8 text-center text-alert"},_hoisted_13={class:"mt-4"},_hoisted_14=["disabled"],_sfc_main=defineComponent({setup(r){const i=useLightBoxStore(),c=reactive({content:"",images:[],blobUrls:[],isUploading:!1,isSending:!1,reset(){this.content="",this.images.length=0,this.blobUrls.length=0}}),t=computed(()=>!(c.content.trim().length<1||c.isUploading)),e=ref(),n="image/jpg, image/jpeg, image/png",s=ref("");async function a(){if(!t)return;const u=localStorage.getItem("metaWall");if(!u)return;c.isSending=!0;const m=await l();apiPost.upload(m,u).then(()=>{c.isSending=!1,c.reset(),window.alert("\u8CBC\u6587\u4E0A\u50B3\u6210\u529F\uFF01")}).catch(()=>{s.value="\u8CBC\u6587\u4E0A\u50B3\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66\uFF01"})}async function l(){const u=new FormData;u.append("content",c.content);for(const m of c.images)await u.append("image",m);return u}async function f(){var m;if(!((m=e.value)!=null&&m.files))return;c.isUploading=!0;const u=e.value.files;for(const U of u){if(n.indexOf(U.type)<0){s.value=`\u5716\u7247\u683C\u5F0F\u932F\u8AA4\uFF0C\u50C5\u9650 ${n.replace(/image\//g,"").toUpperCase()} \u5716\u7247`;return}const p={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{const y=await imageCompression(U,p);c.images.push(y),c.blobUrls.push(g(y))}catch{s.value="\u5716\u7247\u7570\u5E38\uFF0C\u7121\u6CD5\u6B63\u78BA\u58D3\u7E2E"}}e.value=null,c.isUploading=!1}function g(u){return URL.createObjectURL(u)}function h(u){URL.revokeObjectURL(c.blobUrls[u]),c.blobUrls.splice(u,1),c.images.splice(u,1)}function d(u){i.show=!0,i.images=u}return(u,m)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(SwiperImgs),createVNode(TitleCard,{title:"\u5F35\u8CBC\u52D5\u614B"}),createBaseVNode("div",_hoisted_1,[createBaseVNode("div",null,[_hoisted_2,withDirectives(createBaseVNode("textarea",{class:"custom-border mt-1 h-[200px] w-full resize-none focus:border-primary dark:bg-gray-400 dark:text-black",id:"content","onUpdate:modelValue":m[0]||(m[0]=U=>unref(c).content=U),disabled:unref(c).isSending},null,8,_hoisted_3),[[vModelText,unref(c).content]])]),createBaseVNode("div",_hoisted_4,[_hoisted_5,createBaseVNode("input",{onChange:f,class:"hidden",type:"file",ref_key:"uploadImages",ref:e,id:"uploadImages",accept:n,disabled:unref(c).isSending,multiple:""},null,40,_hoisted_6)]),createBaseVNode("div",_hoisted_7,[createBaseVNode("div",{class:normalizeClass(["custom-border grid gap-[2px] bg-gray-800",{"grid-cols-2":unref(c).images.length>1}])},[withDirectives(createBaseVNode("div",_hoisted_8," \u5C1A\u672A\u4E0A\u50B3\u5716\u7247\uFF08\u4E0A\u50B3\u7684\u5716\u7247\u6703\u58D3\u7E2E\u81F3 1 MB \u4EE5\u4E0B\uFF09 ",512),[[vShow,unref(c).images.length===0]]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(c).blobUrls,(U,p)=>(openBlock(),createElementBlock("div",{key:p,class:"relative bg-white dark:bg-gray-400",onClick:m[1]||(m[1]=withModifiers(y=>d(unref(c).blobUrls),["stop"]))},[createBaseVNode("img",{class:"aspect-video w-full cursor-pointer object-contain hover:brightness-110",src:U},null,8,_hoisted_9),createBaseVNode("div",{onClick:withModifiers(y=>h(p),["stop"]),class:"absolute top-1 right-1 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-[rgba(0,0,0,.2)] text-white hover:bg-[rgba(0,0,0,.4)]"},[createVNode(IconTrash,{class:"h-4 w-4"},{default:withCtx(()=>[_hoisted_11]),_:1})],8,_hoisted_10)]))),128))],2)]),createBaseVNode("div",_hoisted_12,toDisplayString(s.value),1),createBaseVNode("div",_hoisted_13,[createBaseVNode("button",{type:"button",class:normalizeClass([{"primary-color border-black":unref(t),"cursor-not-allowed border-gray-500 bg-gray-400":!unref(t),"cursor-wait":unref(c).isSending},"mx-auto flex w-full max-w-[300px] items-center justify-center rounded-lg border-2 py-3 text-white"]),disabled:!unref(t),onClick:a},[withDirectives(createVNode(IconLoad,{class:"mr-2 animate-spin"},null,512),[[vShow,unref(c).isSending]]),createBaseVNode("span",null,toDisplayString(unref(c).isSending?"\u8CBC\u6587\u4E0A\u50B3\u4E2D\uFF0C\u8ACB\u7A0D\u5019":"\u9001\u51FA\u8CBC\u6587"),1)],10,_hoisted_14)])])],64))}});export{_sfc_main as default};
