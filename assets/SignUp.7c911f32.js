import{d as w,u as f,r as k,c as o,o as B,a as g,b as s,w as u,v as d,e as t,t as i,n as b,f as x,g as m,I as C,h as _,i as y,j as A,F as E,k as S,l as v,m as F,p as D}from"./index.06625474.js";const U=s("p",{class:"text-center font-sans text-2xl font-bold"},"\u8A3B\u518A",-1),N=["onKeyup"],V={class:"text-alert"},I={class:"text-alert"},P={class:"text-alert"},K=["disabled"],L=D("\u767B\u5165"),z=w({setup(R){const p=S(),l=f(),e=k({isSending:!1,name:"",email:"",password:"",checkName:o(()=>{if(e.name==="")return;if(e.name.indexOf(" ")>-1)return"\u66B1\u7A31\u4E0D\u53EF\u5305\u542B\u7A7A\u767D\u5B57\u5143";const a=e.name.length;if(a<2||a>10)return"\u66B1\u7A31\u9700\u8F38\u5165 2~10 \u500B\u5B57\u5143"}),checkEmail:o(()=>{if(e.email!==""&&!e.email.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/))return"\u4FE1\u7BB1\u683C\u5F0F\u4E0D\u6B63\u78BA"}),checkPassword:o(()=>{if(e.password!==""){if(e.password.indexOf(" ")>-1)return"\u5BC6\u78BC\u4E0D\u53EF\u5305\u542B\u7A7A\u767D\u5B57\u5143";if(e.password.length<8||e.password.length>20)return"\u5BC6\u78BC\u9700\u8F38\u5165 8~20 \u500B\u5B57\u5143"}}),checkContent:o(()=>!!(e.name&&e.email&&e.password&&!e.checkName&&!e.checkEmail&&!e.checkPassword)),reset(){this.isSending=!1,this.name="",this.email="",this.password=""}}),c=()=>{!e.checkContent||(e.isSending=!0,v.signUp({name:e.name.trim(),email:e.email.toLowerCase(),password:e.password.trim()}).then(a=>{localStorage.setItem("metaWall",a.data.data.token),l.id=a.data.data._id,l.name=a.data.data.name,l.avatar=a.data.data.avatar,e.reset(),window.alert("\u8A3B\u518A\u6210\u529F"),p.push({name:"home"})}).catch(a=>{e.reset(),window.alert(a.response.data.message)}))};return(a,n)=>{const h=F("Router-link");return B(),g(E,null,[U,s("div",{class:"grid px-9 pt-9 font-azeret",onKeyup:y(A(c,["stop"]),["enter"])},[u(s("input",{class:"custom-border focus:border-primary dark:text-black",type:"text",placeholder:"\u66B1\u7A31","onUpdate:modelValue":n[0]||(n[0]=r=>t(e).name=r)},null,512),[[d,t(e).name]]),s("span",V,i(t(e).checkName),1),u(s("input",{class:"custom-border mt-4 focus:border-primary dark:text-black",type:"email",placeholder:"Email","onUpdate:modelValue":n[1]||(n[1]=r=>t(e).email=r),onInput:n[2]||(n[2]=r=>t(e).email=t(e).email.toLowerCase())},null,544),[[d,t(e).email]]),s("span",I,i(t(e).checkEmail),1),u(s("input",{class:"custom-border mt-4 focus:border-primary dark:text-black",type:"password",placeholder:"Password","onUpdate:modelValue":n[3]||(n[3]=r=>t(e).password=r)},null,512),[[d,t(e).password]]),s("span",P,i(t(e).checkPassword),1),s("button",{type:"button",class:b([{"primary-color border-black":t(e).checkContent,"cursor-not-allowed border-gray-500 bg-gray-400 text-white":!t(e).checkContent,"cursor-wait":t(e).isSending},"custom-border mt-8 flex items-center justify-center rounded-lg py-3 shadow-sm shadow-black"]),disabled:!t(e).checkContent||t(e).isSending,onClick:c},[s("span",null,i(t(e).isSending?"\u8A3B\u518A\u4E2D...":"\u8A3B\u518A"),1),u(m(C,{class:"ml-1 animate-spin"},null,512),[[x,t(e).isSending]])],10,K),m(h,{to:"/",class:"mx-auto mt-2 inline-block p-1"},{default:_(()=>[L]),_:1})],40,N)],64)}}});export{z as default};
